<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Update</title>

   <!-- font awesome cdn link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">

   <!-- custom css file link  -->
   <link rel="stylesheet" href="style.css">
   <style>

  .option-btn {
    background-color: gray;
  }

  .btn {
    background-color: green;
  }
  .error-message {
         color: red;
         font-size: 16px;
         margin-top: 5px;
      }
   </style>
</head>
<body>

   <header class="header">
   
      <div class="flex">
   
         <a href="profilePartner.html" class="logo"><img src = "images/logo.jpg" width="210" height="60" alt="logo"></a>
   
        
   
         <div class="icons">
            <div id="menu-btn" class="fas fa-bars"></div>
            <div id="toggle-btn" class="fas fa-sun"></div>
         </div>
   
         
   
      </div>
   
   </header>  

   <div class="side-bar">

      <div id="close-btn">
         <i class="fas fa-times"></i>
      </div>
   
      <div class="profile">
         <img src="images/pic-1.jpg" class="image" alt="">
         <h3 class="name">Richard Murphy</h3>
         <p class="role">Partner</p>
      </div>
   
      <nav class="navbar">
         <a href="profilePartner.html"><i class="fas fa-home"></i><span>home</span></a>
         <a href="SessionsPartner.html"><i><img src="images/session.png" alt="sessions"></i><span>sessions</span></a>
         <a href="about_partner.html"><i class="fas fa-question"></i><span>about</span></a>
      </nav>
      <nav>
         <div style="text-align: center; margin-top: 20px; margin-bottom: 150px;">
         <a href="home.html"  class="inline-btn" >Sign out</a>
      </div>
      </nav>
   
   </div>

   
<section class="form-container">

   <form id="profile-form" method="post" enctype="multipart/form-data">
      <h3>Edit profile</h3>
      <p>edit first name</p>
      <input id="first-name-input" type="text" name="name" placeholder="Richard" maxlength="50" class="box">
      <p>edit last name</p>
      <input id="last-name-input" type="text" name="name" placeholder="Murphy" maxlength="50" class="box">
      <p>edit bio</p>
      <input id="bio-input" type="text" name="name" placeholder="I am a native English speaker from England! I am a TEFL/TESOL-certified English language teacher." size="30" maxlength="100" class="box">
      <p>edit city</p>
      <input id="city-input" type="text" name="name" placeholder="Manchester" maxlength="50" class="box">
      <p>edit email</p>
      <input id="email-input" type="email" name="email" placeholder="Richard@gmail.come" maxlength="50" class="box">
      <p>edit phone</p>
      <input id="phone-input" type="text" name="phone" placeholder="+966" maxlength="10" class="box">
      <p>edit gender</p>
      <select id="gender-input" name="gender" class="box">
         <option value="male">Male</option>
         <option value="female">Female</option>
      </select>
      <p>edit age</p>
      <input id="age-input" type="number" name="age" required class="box" value="34">
      <p>previous password</p>
      <input id="previous-pass-input" type="password" name="old_pass" placeholder="enter your old password" maxlength="20" class="box">
      <p>new password</p>
      <input id="new-pass-input" type="password" name="new_pass" placeholder="enter your old password" maxlength="20" class="box">
      <p>confirm password</p>
      <input id="confirm-pass-input" type="password" name="c_pass" placeholder="confirm your new password" maxlength="20" class="box">
      <p>edit pic</p>
      <input id="pic-input" type="file" accept="image/*" class="box">
         <!-- Span elements for displaying validation messages -->
<span id="email-error" class="error-message"></span>
<span id="password-error" class="error-message"></span>
<span id="firstName-error" class="error-message"></span>
<span id="lastName-error" class="error-message"></span>
<span id="city-error" class="error-message"></span>
<span id="phone-error" class="error-message"></span>
<span id="age-error" class="error-message"></span>


      <input type="submit" id="cancel-btn"  value="cancel" name="submit" class="option-btn">
      <input type="submit" id="update-btn" value="update" name="submit" class="btn">
      <input type="submit" id="delete-btn" value="delete account" name="submit" class="delete-btn">
   </section>
</div>

<footer class="footer">

   &copy; copyright @ 2024 by <span>CHAT FLUENCY</span> | all rights reserved!
   <a href="contact_partner.html"><i class="fas fa-headset"></i><span> contact us</span></a>

</footer>

<script>
   // JavaScript code for handling form submission and button clicks
   // Event listener for form submission
   document.getElementById('profile-form').addEventListener('submit', function(event) {
      event.preventDefault(); 
    // Prevent the default form submission
   
      // Perform actions based on the form data
      const firstName = document.getElementById('first-name-input').value;
      const lastName = document.getElementById('last-name-input').value;
      const bio = document.getElementById('bio-input').value;
      const city = document.getElementById('city-input').value;
      const email = document.getElementById('email-input').value;
      const phone = document.getElementById('phone-input').value;
      const gender = document.getElementById('gender-input').value;
      const age = document.getElementById('age-input').value;
      const oldPassword = document.getElementById('old-pass-input').value;
      const newPassword = document.getElementById('new-pass-input').value;
      const confirmPassword = document.getElementById('confirm-pass-input').value;
      const pic = document.getElementById('pic-input').value;
   
      // Perform further actions such as validation, AJAX requests, etc.
   
      // Example: Log the form data to the console
      console.log('First Name:', firstName);
      console.log('Last Name:', lastName);
      console.log('Bio:', bio);
      console.log('City:', city);
      console.log('Email:', email);
      console.log('Phone:', phone);
      console.log('Gender:', gender);
      console.log('Age:', age);
      console.log('Old Password:', oldPassword);
      console.log('New Password:', newPassword);
      console.log('Confirm Password:', confirmPassword);
      console.log('Pic:', pic);
   
      // Reset the form
      document.getElementById('profile-form').reset();
   });
   
   
   // Event listener for the cancel button
   document.getElementById('cancel-btn').addEventListener('click', function() {
      // Reset the form
      document.getElementById('profile-form').reset();
      window.location.href = 'profilePartner.html';
   
      // Perform cancel action here
       // Example: Show an alert message
   });
   // Event listener for the update button
   // Event listener for the update button
   document.getElementById('update-btn').addEventListener('click', function() {
     
      document.getElementById('email-error').textContent = '';
      document.getElementById('password-error').textContent = '';
      document.getElementById('firstName-error').textContent = '';
      document.getElementById('lastName-error').textContent = '';
      document.getElementById('city-error').textContent = '';
      document.getElementById('phone-error').textContent = '';
      document.getElementById('age-error').textContent = '';
   
      // Perform update action here
      const firstName = document.getElementById('first-name-input').value;
      const lastName = document.getElementById('last-name-input').value;
      const city = document.getElementById('city-input').value;
      const age = document.getElementById('age-input').value;
      const phone = document.getElementById('phone-input').value;
      const email = document.getElementById('email-input').value;
      const oldPassword = document.getElementById('previous-pass-input').value;
      const newPassword = document.getElementById('new-pass-input').value;
      const confirmPassword = document.getElementById('confirm-pass-input').value;
      const pic = document.getElementById('pic-input').value;
      const bio = document.getElementById('bio-input').value;
      const gender = document.getElementById('gender-input').value;
   
      let isEmailValid = true;
      let isPasswordValid = true;
      let isFirstNameValid = true;
      let isLastNameValid = true;
      let isCityValid = true;
      let isPhoneValid = true;
      let isAgeValid= true;
   
      // Validate email format
      if (email.trim() !== '') {
         const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
         if (!emailRegex.test(email)) {
            document.getElementById('email-error').textContent = 'Invalid email format';
            isEmailValid = false;
         }
      }
   
      // Validate password length and alphanumeric characters
      if (newPassword.trim() !== '') {
         const passwordRegex = /^(?=.*[0-9])(?=.*[a-zA-Z])[a-zA-Z0-9]{8,}$/;
         if (!passwordRegex.test(newPassword)) {
            document.getElementById('password-error').textContent = 'Password must be at least 8 characters long and contain alphanumeric characters';
            isPasswordValid = false;
         }
      }
   
      // Validate password matching
      if (newPassword.trim() !== '' && confirmPassword.trim() !== '' && newPassword !== confirmPassword) {
         document.getElementById('password-error').textContent = 'New password and confirm password must match';
         isPasswordValid = false;
      }
   
      // Validate first name, last name, city, and location to be characters only
      const nameRegex = /^[a-zA-Z]+$/;
      if (firstName.trim() !== '') {
         if (!nameRegex.test(firstName)) {
            document.getElementById('firstName-error').textContent = 'First name can only contain characters';
            isFirstNameValid = false;
         }
      }
   
      if (lastName.trim() !== '') {
         if (!nameRegex.test(lastName)) {
            document.getElementById('lastName-error').textContent = 'Last name can only contain characters';
            isLastNameValid = false;
         }
      }
   
      if (city.trim() !== '') {
         if (!nameRegex.test(city)) {
            document.getElementById('city-error').textContent = 'city can only contain characters';
            isCityValid = false;
         }
      }
    // Validate phone number to allow only numbers
    if (phone.trim() !== '') {
      const phoneRegex = /^\d+$/;
      if (!phoneRegex.test(phone)) {
         document.getElementById('phone-error').textContent = 'Phone number can only contain numbers';
         isPhoneValid = false;
      }
   }

    // Validate age to be positive
    if (age.trim() !== '') {
      const ageNumber = parseInt(age);
      if (isNaN(ageNumber) || ageNumber < 1) {
         document.getElementById('age-error').textContent = 'Age must be a positive number';
         isAgeValid = false;
      }
   }
   if (oldPassword && !newPassword && !confirmPassword) {
      document.getElementById('phone-error').textContent = 'enter new and confirm passwords';
      isPasswordValid=false;
   }
      // Check if any validation failed
      if (!isEmailValid || !isPasswordValid || !isFirstNameValid || !isLastNameValid || !isCityValid || !isPhoneValid || !isAgeValid) {
         return;
      }
      // Log the updated form data to the console
      console.log('First Name:', firstName);
      console.log('Last Name:', lastName);
      console.log('Bio:', bio);
      console.log('City:', city);
      console.log('Phone:', phone);
      console.log('Gender:', gender);
      console.log('Age:', age);
      console.log('Email:', email);
      console.log('Old Password:', oldPassword);
      console.log('New Password:', newPassword);
      console.log('Confirm Password:', confirmPassword);
      console.log('Pic:', pic);
   
      // Reset the form
      document.getElementById('profile-form').reset();
      // Perform further actions such as AJAX requests or updating the database
      // ...
   
     
      // Show a success message
      alert('Form updated');
      window.location.href = 'profileLearner.html';
   });
   // Event listener for the delete button
   document.getElementById('delete-btn').addEventListener('click', function() {
      // Perform delete action here
      if (confirm('Are you sure you want to delete?')) {
             // Redirect to home.html
             window.location.href = 'home.html';
          // Show a success message
          alert('Account deleted successfully');
      } else {
          // Deletion canceled
          alert('Deletion canceled');  // Example: Show an alert message
      }
   });
   </script>
<!-- custom js file link  -->
<script src="script.js"></script>

</body>
</html>
